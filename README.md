# Serverless Runtime

## Custom VLESS-WS-TLS Proxy on Cloudflare

> Base on [ZiZifn] EdgeTunnel

<br/>

 
ุงู ูพุฑูฺู ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ุชุง ุจุฏูู ูุงุฒ ุจู ุณุฑูุฑ ุดุฎุตุ ุชููุง ุจุง ุงุณุชูุงุฏู ุงุฒ Cloudflare Workers ู Pagesุ ฺฉ ูพุฑูฺฉุณ ุงูู ู ูพุงุฏุงุฑ ุจุฑุง ุฎูุฏ ุง ุฏูุณุชุงูุชุงู ุฏุงุดุชู ุจุงุดุฏ. ุชูุงู ูพุฑุฏุงุฒุดโูุง ุฏุฑ ุดุจฺฉู ฺฉูุงุฏููุฑ ุงูุฌุงู ูโุดูุฏ ู ุดูุง ุงุฒ ุณุฑุนุช ู ุงููุช ุงู ุฒุฑุณุงุฎุช ุจูุฑูโููุฏ ุฎูุงูุฏ ุดุฏ.
ููฺูู ุงู ูพุฑูฺู ุฏุงุฑุง ฺฉ ุฑุงุจุท ฺฉุงุฑุจุฑ ุญุฑููโุง ุจุฑุง ููุงุด ูพฺฉุฑุจูุฏ ูพุฑูฺฉุณ ู ุงุทูุงุนุงุช ุดุจฺฉู ุงุณุช.

<br/> 

 ## ุจุฑุฎ ุงุฒ ูฺฺฏโูุง
 
> ๐งฉ **ุฑุงูโุงูุฏุงุฒ ุณุฑุน ู ุขุณุงู:** ุฏุฑ ฺฉูุชุฑ ุงุฒ ต ุฏููู ู ุจุง ฺูุฏ ฺฉูฺฉุ ูพุฑูฺฉุณ ุดูุง ุขูุงุฏู ุงุณุช.
>
> โ๏ธ **ฺฉุฏ ุณูุชโุณุฑูุฑ ูุฏุฑุชููุฏ:** ฺฉุฏโ ุจฺฉโุงูุฏ ุงู ูพุฑูฺู ุจุฏูู ูุงุฒ ุจู ูุจููโุณุงุฒโ ูุง ุณูฺฏู ู ูพฺุฏู ุจุฏูู ุฏุฑุงูุช ุฎุทุง 1101 ุจู ุดฺฉู ุนุงุฏ ุจู ฺฉุงุฑ ุฎูุฏ ุงุฏุงูู ูโุฏูุฏ. ุงูุชุญุงู ฺฉูุฏ.
>
> ๐ **ูพูู ุญุฑููโุง ุงุทูุงุนุงุช:** ุงู ูพุฑูฺู ุฏุงุฑุง ฺฉ ุฑุงุจุท ฺฉุงุฑุจุฑ ุญุฑููโุง ุจุฑุง ููุงุด ูพฺฉุฑุจูุฏโ ฺฉุงููฺฏโูุง ู ุงุทูุงุนุงุช ุดุจฺฉู ู ฺฉุงูฺฉุดู ุดูุง ูโุจุงุดุฏ.
>   
> ๐ง **ุฏุฑุงูุช ุฎูุฏฺฉุงุฑ ุขโูพ:** ุขโูพโูุง ุชูุฒ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุงุฒ ูุฎุงุฒู ูุนุชุจุฑ ฺฏุชโูุงุจ ุฏุฑุงูุช ู ุฏุฑ ฺฉุงููฺฏโูู ููุฌูุฏ ุฏุฑ ููฺฉ ุณุงุจโุงุณฺฉุฑูพุดู ุดูุง ูุฑุงุฑ ูโฺฏุฑูุฏ.
>   
> ๐ **ุจุฑูุฒุฑุณุงู ููฺฉ ุณุงุจ:** ุจุง ูุฑ ุจุงุฑ ุขูพุฏุช ุงุดุชุฑุงฺฉ ุฏุฑ ฺฉูุงูุชุ ุขโูพโูุง ุฌุฏุฏ ุฌุงฺฏุฒู ูโุดููุฏ.
>   
> ๐ป **ุณู ุฑูุด ูุตุจ ูุชูุงูุช:** ููุงุณุจ ุจุฑุง ฺฉุงุฑุจุฑุงู ูุจุชุฏ ุชุง ุญุฑููโุง (Forkุ copy/pasteุ ุงุณุชูุงุฏู ุงุฒ ูุงู _worker.js).
> 
> ๐ฑ๏ธ **ุงุชุตุงู ุจุง ฺฉ ฺฉูฺฉ:** ุฏฺฉููโูุง ุขูุงุฏู ุจุฑุง ูุงุฑุฏ ฺฉุฑุฏู ููฺฉ ุงุดุชุฑุงฺฉ ุจู ูุญุจูุจโุชุฑู ฺฉูุงูุชโูุง.
> 

</div>
   
## ูุญูู ุฑุงูโุงูุฏุงุฒ

ุดูุง ูโุชููุฏ ุจู ฺฉ ุงุฒ ุณู ุฑูุด ุฒุฑ ูพุฑูฺู ุฑู ุฑู ุงฺฉุงูุช ฺฉูุงุฏููุฑ ุฎูุฏ ุฏูพูู ฺฉูุฏ.

### ุฑูุด ุงูู 
 โ**Fork ู ุงุชุตุงู ุจู ฺฏุชโูุงุจ (ูพุดููุงุฏ)**
 
ุงู ุจูุชุฑู ู ุณุงุฏูโุชุฑู ุฑูุด ุจุฑุง ูุฏุฑุช ู ุจุฑูุฒุฑุณุงูโูุง ุขูุฏู ุงุณุช.

**ฺฉูพ ฺฉุฑุฏู ูพุฑูฺู:**
ุงุจุชุฏุง ุงู ูุฎุฒู (Repository) ุฑุง ุฏุฑ ุงฺฉุงูุช ฺฏุชโูุงุจ ุฎูุฏ Fork ฺฉูุฏ.  
โ**ูุฑูุฏ ุจู ฺฉูุงุฏููุฑ:** ูุงุฑุฏ ุฏุงุดุจูุฑุฏ Cloudflare ุฎูุฏ ุดูุฏ.  
**ุณุงุฎุช ูพุฑูฺู:** ุฏุฑ ููุงุฑ ุงุจุฒุงุฑ ุจุงูุง ุณุงุช ุฑู "Add" ุง ุฏุฑ ููุจุงู ุฑู ุขฺฉูู "+" ฺฉูฺฉ ฺฉุฑุฏู ุณูพุณ "Pages" ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ. ููฺูู ูโุชูุงู ุงุฒ ููู ุณูุช ฺูพ ุงุฒ ุจุฎุด Build ู ุณูพุณ ุณูพุณ Compute & Ai ุจู ุจุฎุด worker & Pages ุฏุณุช ุงูุช.  
ุฏุฑ ุตูุญู ุฌุฏุฏ ฺฏุฒูู "Import an existing Git repository" ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.  
ุฏุฑ ูุณูุช ุงูู ุงฺฏุฑ ุจู ุงฺฉุงูุช ุฎูุฏ ูุชุตู ูุจูุฏุฏ "Connect to Git" ุฑุง ุจุฒูุฏ.  
**ุงูุชุฎุงุจ ูุฎุฒู:** ูุฎุฒู ููุฑฺฉ ุดุฏู ุฎูุฏ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ ู Begin setup ุฑุง ุจุฒูุฏ.

<br/>
  
**ุชูุธูุงุช ุฏูพูู:**  
 โ**Project name:** ฺฉ ูุงู ุฏูุฎูุงู ุจุฑุง ูพุฑูฺูโุชุงู ุงูุชุฎุงุจ ฺฉูุฏ.  
 
  โ**Production branch:** ุดุงุฎู main ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.  
  
   โ**Framework preset:** ฺฏุฒูู None ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.  

**ุฐุฎุฑู ู ุฏูพูู:** ุฑู Save and Deploy ฺฉูฺฉ ฺฉูุฏ. ูพุฑูฺู ุดูุง ุฏุฑ ฺูุฏ ุซุงูู ุฏูพูู ุฎูุงูุฏ ุดุฏ!  

ููฺูู ูโุชูุงู ุงุฒ ุฏฺฉูู ุฒุฑ ุจุฑุง ุฏูพูู ูุณุชูู pages ุงุณุชูุงุฏู ฺฉุฑุฏ. (ููุท ุงุณู ุงูุชุฎุงุจ ูโฺฉูุฏ)

[![Deploy to Cloudflare Workers](https://deploy.workers.cloudflare.com/button)](https://deploy.workers.cloudflare.com/?url=https://github.com/NiREvil/zizifn)

<br/> 

### ุฑูุด ุฏูู  
**ฺฉูพ ู ูพุณุช ูุณุชูู (ุณุฑุนโุชุฑู ุฑูุด)**

ุงู ุฑูุด ุจุฑุง ุชุณุช ุณุฑุน ู ุจุฏูู ูุงุฒ ุจู ฺฏุชโูุงุจ ููุงุณุจ ุงุณุช.

**ูุฑูุฏ ุจู ฺฉูุงุฏููุฑ:** ูุงุฑุฏ ุฏุงุดุจูุฑุฏ Cloudflare ุดูุฏ.

**ุณุงุฎุช ูุฑฺฉุฑ:**  
ุฏุฑ ููุงุฑ ุงุจุฒุงุฑ ุจุงูุง ุณุงุช ุฑู "Add" ุง ุฏุฑ ููุจุงู ุฑู ุขฺฉูู "+" ฺฉูฺฉ ฺฉุฑุฏู ุณูพุณ "Workera" ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.  
ุฑู ุฏฺฉูู Get Start ููุงุจู "Start with Hello World!" ฺฉูฺฉ ฺฉุฑุฏู ู ุณูพุณ ฺฉ ูุงู ุฏูุฎูุงู ุจุฑุง ูุฑฺฉุฑ ุฎูุฏ ุงูุชุฎุงุจ ฺฉูุฏ. ุณูพุณ Deploy ุฑุง ุจุฒูุฏ.  

**ฺฉูพ ฺฉุฑุฏู ฺฉุฏ:** ูพุณ ุงุฒ ุงุชูุง ุณุงุฎุช ููุฑฺฉุฑ ุฑู Edit code ฺฉูฺฉ ฺฉูุฏ.  
ูุญุชูุงุช ูุงู ฺฉุฏ ูุฑูุงู [index.js](./index.js) ู ุง ฺฉุฏ ูุดุฑุฏู ุดุฏู (ูุจูู ูู) [_worker.js](./_worker.js) ุฑุง ฺฉูพ ฺฉุฑุฏู ู ุจู ุทูุฑ ฺฉุงูู ุฌุงฺฏุฒู ฺฉุฏูุง ููุฌูุฏ ุฏุฑ ูุฑุงุดฺฏุฑ ฺฉูุงุฏููุฑ ฺฉูุฏ.  
**ุฐุฎุฑู:** ุฑู ุฏฺฉูู ุขุจ ุฑูฺฏ Deploy ฺฉูฺฉ ฺฉูุฏ.

<br/> 

### ุฑูุด ุณูู
**ุงุณุชูุงุฏู ุงุฒ _worker.js (ุจุฑุง Pages)**

ุงู ุฑูุด ุจู ุดูุง ุงุฌุงุฒู ูโุฏูุฏ ุงุฒ ูุงู ฺฉุฏ ูพุฑูฺู ุฑุง ุจุฑุง ุฏูพูู ุฏุฑ Cloudflare Pages (ุจุฏูู ุงุชุตุงู ุจู ุงฺฉุงูุช ฺฏุชโูุงุจ) ุงุณุชูุงุฏู ฺฉูุฏ.  

ูุงู [_worker.js](./_worker.js) ุฑุง ุงุฒ ููู ูุฎุฒู ุฏุงูููุฏ ฺฉูุฏ.  
ุฏุฑ ฺฉูุงุฏููุฑุ ุจู ุจุฎุด Pages ุจุฑูุฏ.  

ุฏุฑ ุชุจ Pages ุฑู ุฏฺฉูู Get Start ููุงุจูDrag and drop your files ฺฉูฺฉ ฺฉุฑุฏู ู ุฏุฑ ุตูุญู ุจุนุฏ ุจุฑุง ูพุฑูฺู ุฎูุฏ ฺฉ ูุงู ุงูุชุฎุงุจ ฺฉุฑุฏู ู ุณูพุณ ูุงู _worker.js ุฑุง ุขูพููุฏ ฺฉูุฏ ุชุง ูพุฑูุณู ุฏูพูู ุขุบุงุฒ ุดูุฏ.

 <br/> 

## ุชูุธูุงุช ู ูุชุบุฑูุง

ุจุนุฏ ุงุฒ ุฑุงูโุงูุฏุงุฒุ ุจุงุฏ ูุชุบุฑูุง ูุญุท (Environment Variables) ุฑุง ุจุฑุง ุดุฎุตโุณุงุฒ ฺฉุงููฺฏโูุง ุฎูุฏ ุชูุธู ฺฉูุฏ. ุงู ูุชุบุฑูุง ุฑุง ุฏุฑ ุฏุงุดุจูุฑุฏ ูพุฑูฺู ุฎูุฏ ุฏุฑ ฺฉูุงุฏููุฑุ ุฏุฑ ูุณุฑ ุฒุฑ ุงุถุงูู ฺฉูุฏ:

> worker & Pages > Settings > Variables and Secrets > Add variable.

<br/> 

| **ูุชุบุฑ** | **ุชูุถุญุงุช** | **ุงูุฒุงู - ุงุฎุชุงุฑ** | *ููุฏุงุฑ ูพุดโูุฑุถ** |
|:---|:-----------|:---:|:----------|
| UUID | ุดูุงุณู ฺฉุงุฑุจุฑ ููุญุตุฑ ุจู ูุฑุฏ ุดูุง. ุงู ูุชุบุฑ ุจุฑุง ุงููุช ุถุฑูุฑ ุงุณุช. | ุงูุฒุงู | ุจุฑุง ุณุงุฎุชุ ุจู [UUID Generator][2] ูุฑุงุฌุนู ฺฉูุฏ. |
| PROXYIP | ฺฉ IP ุง ุฏุงููู ุจุฑุง fronting. ุงู ุขุฏุฑุณ ุจู ุนููุงู ุขโูพ ุฌุงฺฏุฒู ูููุน ุจุงุฒุฏุฏ ุงุฒ ูุจโุณุงุช ู ุณุฑูุณโูุง ูพุดุช ฺฉูุงุฏููุฑ ูุงููุฏ speedtest ู whoer ุงุณุชูุงุฏู ูโุดูุฏ. ุงุฒ [ูุฎุฒู ูพุฑูฺฉุณ ุขโูพ][3] ูุง ูพุดููุงุฏ ฺฉ ููุฑุฏ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ. | ุงุฎุชุงุฑ | ููุฏุงุฑ ูพุดูุฑุถ: `nima.nscl.ir` ููุชุงุฏ ูพุฑูฺฉุณ ุขูุฑฺฉุง ุงุฒ ุจูุชุฑู ุงุฑุงุฆู ุฏููุฏูโูุง  |
| SCAMALYTICS_USERNAME | ูุงู ฺฉุงุฑุจุฑ ุณุฑูุณ Scamalytics ุจุฑุง ุชุญูู IP. | ุงุฎุชุงุฑ | ุจุฑุง ูุตุฑู ุดุฎุต ูุงุฒ ูุณุช. ุฏุฑ ุตูุฑุช ุงุณุชูุงุฏู ุนููู ู ููุฑฺฉโูุง ุฒุงุฏุ ุงุฒ ุณุงุช [Scamalytics][4] ุฏุฑุฎูุงุณุช API ุดุฎุต ุจุฏูุฏ. ุฏุฑ ุนุฑุถ ฒด ุณุงุนุช ุงุทูุงุนุงุช ุณุฑูุณ ุงูู ูโุดูุฏ. |
| SCAMALYTICS_API_KEY | ฺฉูุฏ API ุณุฑูุณ Scamalytics. | ุงุฎุชุงุฑ | ููุฑุงู ุจุง ูุงู ฺฉุงุฑุจุฑ ุงุฒ ุณุงุช Scamalytics ุฏุฑุงูุช ูโุดูุฏ. |
| SCAMALYTICS_BASEURL | ุงูุฏูพููุช ุณุฑูุณ Scamalytics. | ุงุฎุชุงุฑ | ููุฑุงู ุจุง ูุงู ฺฉุงุฑุจุฑ ู api ุจุฑุง ุดูุง ุงูู ูุดูุฏ.  |

<br/> 

## ูุญูู ุงุณุชูุงุฏู

### ฑ. ุฏุณุชุฑุณ ุจู ูพูู ูุฏุฑุช
ูพุณ ุงุฒ ุฏููุ ฺฉุงูุณุช UUID ุฎูุฏ ุฑุง ุจู ุงูุชูุง ุขุฏุฑุณ ูุฑฺฉุฑ ุง ูพุฌ ุฎูุฏ ุงุถุงูู ฺฉูุฏ:

`https://<Your-Worker-URL>/<Your-UUID>`

ุจุฑุง ูุซุงู:

`https://my-proxy.pages.dev/d342d11e-d424-4583-b36e-524ab1f0afa4`

ุฏุฑ ุฏุงุฎู ูพูู ูโุชูุงูุฏ ฺฉุงููฺฏโูุง ุงุตูุ ููฺฉ ุงุดุชุฑุงฺฉ ู ุงุทูุงุนุงุช ุดุจฺฉู ู ฺฉูุฏูุง ุงุตุงูู ฺฉุฑุฏู ููฺฉ ุณุงุจ ุฏุงุฎู ฺฉูุงูุชโูุง ุฑุง ูุดุงูุฏู ฺฉูุฏ.

<br/> 

### ฒ. ุฏุฑุงูุช ููฺฉ ุงุดุชุฑุงฺฉ (Subscription)
ููฺฉ ุงุดุชุฑุงฺฉ ุดูุง ุดุงูู ุฏูโูุง ฺฉุงููฺฏ ูุจุชู ุจุฑ ุขโูพโูุง ุชูุฒ ู ุจุฑูุฒ ุงุณุช. ุจุฑุง ุฏุฑุงูุช ุขู ุจู ุตูุฑุช ุฏุณุชุ ุนุจุงุฑุช ipsub ุฑุง ุจู ุขุฏุฑุณ ูุฑฺฉุฑ ู UUID ุฎูุฏ ูุฑุงุฑ ุฏูุฏ:

`https://<Your-Worker-URL>/ipsub/<Your-UUID>`

ุจุฑุง ูุซุงู:

`https://my-proxy.pages.dev/ipsub/d342d11e-d424-4583-b36e-524ab1f0afa4`

ูฺฉุชู: ุขโูพโูุง ุงู ููฺฉ ุงุฒ ูุฎุฒู ุขโูพ ุชูุฒ [NiREvil/vless][5] ุชุงูู ูโุดููุฏ ู ุจุง ูุฑ ุจุงุฑ ุขูพุฏุช ฺฉุงููฺฏโูุง ุฏุงุฎู ฺฉูุงูุช ุดูุงุ ุชุงุฒู ูโุดููุฏ.

<br/> 

### ณ. ุงุชุตุงู ุจุง ฺฉ ฺฉูฺฉ
ุจุฑุง ุฑุงุญุชุ ูโุชูุงูุฏ ุงุฒ ุฏฺฉููโูุง ููุฌูุฏ ุฏุฑ ูพูู ูุฏุฑุช ุจุฑุง ูุงุฑุฏ ฺฉุฑุฏู ุฎูุฏฺฉุงุฑ ููฺฉ ุงุดุชุฑุงฺฉ ุจู ฺฉูุงูุชโูุง ูุญุจูุจ ุฒุฑ ุงุณุชูุงุฏู ฺฉูุฏ:
 * ๐ฑ Hiddify, Singbox 
 * ๐ค V2RayNG, MahsaNG
 * ๐ฑ Clash Meta, Nekobox
 * ๐ฆ Exclave, SagerNet

<hr/><br/> 

[ZiZifn]: https://github.com/zizifn/edgetunnel
[2]: https://www.uuidgenerator.net
[3]: https://github.com/NiREvil/vless/blob/main/sub/ProxyIP.md
[4]: https://scamalytics.com/ip/api/enquiry?monthly_api_calls=5000
[5]: https://github.com/NiREvil/vless/blob/main/Cloudflare-IPs.json
